{
  "id": "pdf",
  "name": "PDF Extraction & Generation",
  "status": "in_progress",
  "description": "PDF template filling, OCR-based extraction, bid schedule parsing, IDR report generation",

  "docs": {
    "overview": "docs/features/feature-pdf-overview.md",
    "architecture": "docs/features/feature-pdf-architecture.md",
    "prd": "prds/pdf-extraction-v2-prd-2.0.md"
  },

  "constraints_file": "architecture-decisions/pdf-v2-constraints.md",
  "constraints_summary": [
    "OCR-only routing (no hybrid native/OCR strategies)",
    "No V1 imports in V2 extraction code",
    "Binary routing: render -> preprocess -> OCR (no fallback to native)",
    "No legacy compatibility flags or toggles"
  ],

  "integration": {
    "depends_on": ["photos", "sync"],
    "required_by": ["entries", "toolbox"]
  },

  "metrics": {
    "test_coverage_percentage": 87,
    "last_updated": "2026-02-16T12:00:00Z",
    "item_match_rate": 0.198,
    "quality_score": 0.615,
    "median_ocr_confidence": 0.288,
    "upscaling_coverage": 1.0,
    "gt_item_matches": "26/131",
    "items_extracted": 27,
    "items_with_price": 0
  },

  "current_phase": {
    "phase_name": "OCR Accuracy — Row Classifier Fix",
    "status": "Fixtures regenerated (Session 354). Row classifier is #1 blocker: 83/90 rows unknown. Next: fix classifier, OCR grid line cleanup.",
    "plan_file": "plans/2026-02-16-diagnostic-image-capture.md",
    "brainstorming_file": "plans/2026-02-15-ocr-improvement-brainstorming.md",
    "escalation_path": "Step 1: Row-strip OCR → Step 2: opencv_dart → Step 3: Cloud Vision",
    "diagnostic_fixtures": 14,
    "diagnostic_images": "278 PNGs (rendered=6, preprocessed=6, strip_raw=133, strip_ocr=133)",
    "row_classifier_bottleneck": "83/90 rows classified unknown, only 4 data rows"
  }
}
