# Session Analysis Report Template

Use this template for consistent analysis output.

---

# Session Analysis Report

**Session**: [session-id or date]
**Duration**: [if available from timestamps]
**Primary Focus**: [main work area/feature]
**Transcript**: [path if analyzing past session]

## Executive Summary

[2-3 sentences summarizing key findings. Focus on actionable insights.]

---

## Findings by Category

### 1. Hookify Rule Candidates

[Skip this section if no patterns found]

#### Rule: [rule-name]
- **Severity**: High/Medium/Low
- **Event**: bash/write/edit/stop
- **Pattern**: `regex-pattern`
- **Action**: warn/block
- **Evidence**: [quote from session showing the issue]
- **Rationale**: [why this rule helps]

**Ready-to-use rule file** (save as `.claude/hookify.[rule-name].local.md`):
```markdown
---
name: [rule-name]
enabled: true
event: [bash|write|edit|stop]
pattern: [regex-pattern]
action: [warn|block]
---

**[Warning/Blocked] message here**

[Explanation of what triggered this and why it matters]
```

---

### 2. Defect Patterns

[Skip this section if no defects found]

#### [CATEGORY] YYYY-MM-DD: [Title]
- **Status**: New
- **Severity**: Critical/High/Medium/Low
- **Evidence**: [error message or stack trace excerpt]

**Suggested entry for `_defects.md`:**
```markdown
### [CATEGORY] YYYY-MM-DD: [Title]
**Pattern**: [What to avoid - the problematic pattern]
**Prevention**: [How to prevent - the correct approach]
**Ref**: @[path/to/relevant/file.dart]
```

---

### 3. Workflow Issues

[Skip this section if no issues found]

#### Issue: [description]
- **Frequency**: N times in session
- **Impact**: [Description of time/effort wasted]

**Current Behavior:**
[What's happening now]

**Suggested Improvement:**
[How to optimize - specific actions]

**Affected Agents:**
- [agent-name]: [what should change]

---

### 4. Knowledge Gaps

[Skip this section if no gaps found]

#### Gap: [topic]
- **Category**: Architecture/API/Business Logic/Config
- **Evidence**: [question asked or lookup needed]

**Missing Information:**
[What's not documented]

**Suggested Documentation Location:**
[Where to add this - specific file path]

**Suggested Content:**
```markdown
[Draft content to add]
```

---

### 5. Code Quality Issues

[Skip this section if no issues found]

#### Issue: [description]
- **Type**: TODO/Workaround/Duplication/MagicNumber/ErrorHandling
- **Files**: [list of affected files]
- **Evidence**: [code snippet or pattern]

**Suggestion:**
[How to address this issue]

---

## Recommended Actions

Priority-ordered list of actions:

1. **[Highest priority]** - [specific action with file path]
2. **[Second priority]** - [specific action]
3. **[Third priority]** - [specific action]

---

## Files to Update

Checklist of files that may need updates based on findings:

- [ ] `.claude/hookify.[name].local.md` - [reason]
- [ ] `.claude/autoload/_defects.md` - [reason]
- [ ] `.claude/rules/[path].md` - [reason]
- [ ] `.claude/agents/[name].md` - [reason]
- [ ] `.claude/CLAUDE.md` - [reason]

---

## Session Statistics

| Metric | Value |
|--------|-------|
| Messages | [total] |
| Tool calls | [total] |
| Corrections | [count] |
| Errors | [count] |
| Questions asked | [count] |

### Tool Usage Breakdown
| Tool | Count |
|------|-------|
| [tool] | [count] |

---

*Report generated by conversation-analyzer*
